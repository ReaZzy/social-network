(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{107:function(e,t,n){"use strict";n.d(t,"i",(function(){return f})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return b})),n.d(t,"j",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"b",(function(){return O})),n.d(t,"h",(function(){return E}));var a=n(5),r=n.n(a),c=n(10),o=n(69),i=n(2),u=n(9),s={users:[],count:7,totalCount:null,currentPage:1,isLoading:!0,followLoading:[]},l=function(e){return{type:"users/SET_CURRENT_PAGE",currentPage:e}},f=function(e){return{type:"SET_USERS",users:e}},d=function(e){return{type:"SET_PAGE_USERS",currentPage:e}},m=function(e){return{type:"SET_TOTAL_USERS_COUNT",totalUsers:e}},p=function(e){return{type:"SET_LOADING",isLoading:e}},b=function(e,t){return{type:"SET_FOLLOW_LOADING",isFollowLoading:e,id:t}},h=function(e,t,n){return function(){var a=Object(c.a)(r.a.mark((function a(c){var o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==e){a.next=10;break}return c(p(!0)),a.next=4,Object(u.k)(t,n);case 4:o=a.sent,c(p(!1)),c(l(n)),c(d(n)),c(f(o.items)),c(m(o.totalCount));case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0;return function(){var n=Object(c.a)(r.a.mark((function n(a){var c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(d(t)),a(p(!0)),n.next=4,Object(u.k)(e,t);case 4:c=n.sent,a(p(!1)),a(f(c.items));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(b(!0,e)),t.next=3,Object(u.q)(e);case 3:0===t.sent.resultCode&&(n(b(!1,e)),n({type:"FOLLOW",userId:e}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(b(!0,e)),t.next=3,Object(u.c)(e);case 3:0===t.sent.resultCode&&(n(b(!1,e)),n({type:"UNFOLLOW",userId:e}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case"SET_PAGE_USERS":return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(i.a)(Object(i.a)({},e),{},{totalCount:t.totalUsers});case"SET_LOADING":return Object(i.a)(Object(i.a)({},e),{},{isLoading:t.isLoading});case"SET_FOLLOW_LOADING":return Object(i.a)(Object(i.a)({},e),{},{followLoading:t.isFollowLoading?[].concat(Object(o.a)(e.followLoading),[t.id]):e.followLoading.filter((function(e){return e!==t.id}))});case"users/SET_CURRENT_PAGE":return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.currentPage});default:return e}}},137:function(e,t,n){e.exports={content:"News_content__2vbxU"}},138:function(e,t,n){e.exports={content:"Music_content__3Nu-5"}},139:function(e,t,n){e.exports={content:"Settings_content__1Rhtf"}},140:function(e,t,n){e.exports=n.p+"static/media/loading.dc8b2f5f.svg"},141:function(e,t,n){e.exports={loading:"preloader_loading__2rBHo"}},16:function(e,t,n){e.exports={textareaDialogs:"textarea_textareaDialogs__230z5",error:"textarea_error__2rxoX",alert:"textarea_alert__1PM9e",TextareaProfile:"textarea_TextareaProfile__1HFjj",alertProfile:"textarea_alertProfile__1XJBc",input:"textarea_input__1mXDG",alertLogin:"textarea_alertLogin__3ngPT",textareaTodo:"textarea_textareaTodo__Dh-Oe"}},167:function(e,t,n){e.exports=n(293)},168:function(e,t,n){},21:function(e,t,n){e.exports={line:"Navbar_line__1bAXw",active:"Navbar_active__22X82"}},251:function(e,t,n){},293:function(e,t,n){"use strict";n.r(t);n(168),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(8),r=n(58),c=n(2),o={friendsData:[{id:1,name:"Vanja",img:"https://semantic-ui.com/images/avatar/small/matt.jpg"},{id:2,name:"\u0411\u0430\u0440\u0430\u044c\u0430\u043d",img:"https://semantic-ui.com/images/avatar/small/elliot.jpg"},{id:3,name:"Bro Bann",img:"https://semantic-ui.com/images/avatar/small/stevie.jpg"}]},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return Object(c.a)({},e)},u=n(98),s=n(107),l=n(5),f=n.n(l),d=n(10),m=n(9),p=n(22),b={id:null,email:null,login:null,isAuth:!1,info:null,loading:!1,needCaptcha:!1,captchaUrl:null},h=function(e,t,n){return{type:"SET_USER_DATA",data:{id:e,email:t,login:n}}},g=function(e){return{type:"SET_LOADING",boolean:e}},O=function(e){return{type:"SET_AUTH",boolean:e}},E=function(){return function(){var e=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"auth/NEED_CAPTCHA"}),e.next=3,Object(m.d)();case 3:n=e.sent,t({type:"SET_CAPTCHA_URL",url:n.data.url});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(c.a)(Object(c.a)(Object(c.a)({},e),t.data),{},{isAuth:!0});case"SET_USER_INFO":return Object(c.a)(Object(c.a)({},e),{},{info:t.info});case"SET_LOADING":return Object(c.a)(Object(c.a)({},e),{},{loading:t.boolean});case"SET_AUTH":return Object(c.a)(Object(c.a)({},e),{},{isAuth:t.boolean});case"auth/NEED_CAPTCHA":return Object(c.a)(Object(c.a)({},e),{},{needCaptcha:!0});case"SET_CAPTCHA_URL":return Object(c.a)(Object(c.a)({},e),{},{captchaUrl:t.url});default:return e}},_=n(134),j=n(132),x=n(71),S=n.n(x),w=Object(a.c)({profilePage:r.b,dialogsPage:u.a,navBar:i,users:s.a,auth:v,app:S.a,form:j.a}),N=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.d,T=Object(a.e)(w,N(Object(a.a)(_.a))),L=n(67),y=n.n(L),A=n(0),C=n.n(A),D=n(51),k=n(52),P=n(54),I=n(53),U=(n(251),n(13)),G=n(11),F=n(137),H=n.n(F),M=function(e){return C.a.createElement("div",{className:H.a.content},C.a.createElement("ul",null,C.a.createElement("h1",null,"WOWOW NEWS")))},R=n(138),W=n.n(R),B=function(e){return C.a.createElement("div",{className:W.a.content},C.a.createElement("ul",null,C.a.createElement("h1",null,"WOWOW MUSIC")))},z=n(97),V=n(139),X=n.n(V),J=function(e){var t=Object(A.useState)(0),n=Object(z.a)(t,2),a=n[0],r=n[1];return C.a.createElement("div",{className:X.a.content},C.a.createElement("ul",null,C.a.createElement("h1",null,"WOWOW SETTINGS"),a,C.a.createElement("button",{onClick:function(){r(a+1)}},"+1"),C.a.createElement("button",{onClick:function(){r(a-1)}},"-1")))},q=n(21),Y=n.n(q),K=n(91),Q=n.n(K),$=function(e){return C.a.createElement("div",{className:Q.a.friends},C.a.createElement(U.b,{to:"/friends/"+e.id},C.a.createElement("img",{src:e.img,alt:"",className:Q.a.img})))},Z=function(e){var t=e.friendsData.map((function(e){return C.a.createElement($,{img:e.img,id:e.id,key:e.id})}));return C.a.createElement("nav",{className:Y.a.nav},C.a.createElement(U.b,{to:"/profile",activeClassName:Y.a.active},"Profile",C.a.createElement("br",null)),C.a.createElement(U.b,{to:"/messages",activeClassName:Y.a.active},"Messages",C.a.createElement("br",null)),C.a.createElement(U.b,{to:"/todo",activeClassName:Y.a.active},"Todo list",C.a.createElement("br",null)),C.a.createElement(U.b,{to:"/users",activeClassName:Y.a.active},"Users",C.a.createElement("br",null)),C.a.createElement(U.b,{to:"/news",activeClassName:Y.a.active},"News",C.a.createElement("br",null)),C.a.createElement(U.b,{to:"/music",activeClassName:Y.a.active},"Music",C.a.createElement("br",null)),C.a.createElement("div",{className:Y.a.line}),C.a.createElement(U.b,{to:"/settings",activeClassName:Y.a.active},"Settings"),C.a.createElement("div",null,C.a.createElement("div",{className:Y.a.line}),C.a.createElement(U.b,{to:"/friends",activeClassName:Y.a.active},"Friends"),t))},ee=n(14),te=Object(ee.b)((function(e){return{friendsData:e.navBar.friendsData}}))(Z),ne=n(31),ae=n.n(ne),re=n(55),ce=n(96),oe=n.n(ce),ie=function(e){return!0!==e.isAuth||e.profileInfo?C.a.createElement("header",{className:ae.a.header},C.a.createElement("img",{src:"https://icon-library.com/images/github-icon-white/github-icon-white-6.jpg",alt:"logo",height:"34px"}),!1===e.isAuth?C.a.createElement(U.b,{to:"/login",className:ae.a.Login},C.a.createElement("button",{className:ae.a.loginButton},"Login")):C.a.createElement(C.a.Fragment,null,C.a.createElement(U.b,{to:"/profile/".concat(e.id),onClick:function(){e.getProfile(e.id)}},C.a.createElement("button",{className:ae.a.exit,onClick:e.exit},"exit"),C.a.createElement("div",{className:ae.a.info},C.a.createElement("img",{src:null!==e.profileInfo.photos.small?e.profileInfo.photos.small:oe.a,alt:"",className:ae.a.avatar}),C.a.createElement("div",{className:ae.a.login},e.login))))):C.a.createElement(re.a,null)},ue=function(e){Object(P.a)(n,e);var t=Object(I.a)(n);function n(){return Object(D.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"componentDidMount",value:function(){this.props.setUser(this.props.id)}},{key:"render",value:function(){return C.a.createElement(ie,Object.assign({},this.props,{isAuth:this.props.isAuth,login:this.props.login,exit:this.props.exit,id:this.props.id,img:this.props.img,profileInfo:this.props.info,getProfile:this.props.getProfile}))}}]),n}(C.a.Component),se=Object(ee.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,id:e.auth.id,info:e.auth.info}}),{setUser:function(e){return function(){var e=Object(d.a)(f.a.mark((function e(t){var n,a,r,c,o,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.f)();case 2:if(0!==(n=e.sent).resultCode){e.next=10;break}return a=n.data,r=a.id,c=a.email,o=a.login,t(h(r,c,o)),e.next=8,Object(m.g)(r);case 8:i=e.sent,t({type:"SET_USER_INFO",info:i.data});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},getProfile:r.c,exit:function(){return function(){var e=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.b)();case 2:0===e.sent.data.resultCode&&(t(O(!1)),window.location.reload());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ue),le=n(130),fe=n(131),de=n(30),me=n.n(de),pe=n(56),be=n(57),he=Object(a.d)(Object(ee.b)((function(e){return{isAuth:e.auth.isAuth}})),Object(fe.a)({form:"login"}))((function(e){return C.a.createElement("form",{onSubmit:e.handleSubmit},C.a.createElement("label",null,"E-mail"),C.a.createElement("div",null,C.a.createElement(le.a,{id:"email",placeholder:"Email",name:"email",component:be.a,type:"email",disabled:e.isAuth,className:me.a.input,validate:[pe.c]})),C.a.createElement("label",null,"Password"),C.a.createElement("div",null,C.a.createElement(le.a,{id:"password",placeholder:"Password",className:me.a.input,name:"password",component:be.a,type:"password",disabled:e.isAuth,"data-validate":"passsword",validate:[pe.c]})),C.a.createElement("div",null,C.a.createElement(le.a,{type:"checkbox",name:"rememberMe",component:"input",disabled:e.isAuth,className:me.a.rememberMe})," remember me"),e.error&&C.a.createElement("div",{className:me.a.fieldError},C.a.createElement("span",null,e.error)),e.needCaptcha&&C.a.createElement("div",null,C.a.createElement(C.a.Fragment,null,C.a.createElement("img",{src:e.captchaUrl?e.captchaUrl:"",width:"200px",alt:""}),C.a.createElement(le.a,{placeholder:"captcha",component:be.a,name:"captcha",validate:[pe.c]}))),C.a.createElement("div",null,C.a.createElement("button",{disabled:e.isAuth,className:me.a.button},"Login")))})),ge=Object(ee.b)((function(e){return{isAuth:e.auth.isAuth,needCaptcha:e.auth.needCaptcha,captchaUrl:e.auth.captchaUrl}}),{setLogin:function(e,t,n,a){return function(){var r=Object(d.a)(f.a.mark((function r(c){var o,i;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c(g(!0)),r.next=3,Object(m.l)(e,t,n,a);case 3:0===(o=r.sent).data.resultCode?(c(g(!1)),c(O(!0)),window.location.reload()):(10===o.data.resultCode&&c(E()),c(Object(p.a)("login")),i=o.data.messages.length>0?o.data.messages[0]:"Server problem",c(Object(p.b)("login",{_error:i})));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},getCaptha:E})((function(e){return e.isAuth?C.a.createElement(G.a,{to:"profile"}):C.a.createElement("div",{className:me.a.form},C.a.createElement("h1",null,"Login"),C.a.createElement(he,{onSubmit:function(t){e.setLogin(t.email,t.password,t.rememberMe,t.captcha)},needCaptcha:e.needCaptcha,captchaUrl:e.captchaUrl}))})),Oe=function(e){return function(t){return C.a.createElement(C.a.Suspense,{fallback:C.a.createElement(re.a,null)},C.a.createElement(e,t))}},Ee=C.a.lazy((function(){return n.e(5).then(n.bind(null,310))})),ve=C.a.lazy((function(){return n.e(3).then(n.bind(null,309))})),_e=C.a.lazy((function(){return n.e(4).then(n.bind(null,311))})),je=C.a.lazy((function(){return n.e(6).then(n.bind(null,312))})),xe=function(e){Object(P.a)(n,e);var t=Object(I.a)(n);function n(){return Object(D.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"render",value:function(){return C.a.createElement(U.a,null,C.a.createElement("div",null,C.a.createElement(se,null),C.a.createElement("div",{className:"app-wrapper"},C.a.createElement(te,null),C.a.createElement(G.d,null,C.a.createElement(G.a,{exact:!0,from:"/",to:"/profile"}),C.a.createElement(G.b,{path:"/profile/:userId?",render:Oe(ve)}),C.a.createElement(G.b,{path:"/messages/:userId?",render:Oe(_e)}),C.a.createElement(G.b,{path:"/users",render:Oe(Ee)}),C.a.createElement(G.b,{path:"/todo",render:Oe(je)}),C.a.createElement(G.b,{path:"/news",render:function(){return C.a.createElement(M,null)}}),C.a.createElement(G.b,{path:"/music",render:function(){return C.a.createElement(B,null)}}),C.a.createElement(G.b,{path:"/settings",render:function(){return C.a.createElement(J,null)}}),C.a.createElement(G.b,{path:"/login",render:function(){return C.a.createElement(ge,null)}}),C.a.createElement(G.b,{path:"*",render:function(){return C.a.createElement("h1",null,"404 not found")}})))))}}]),n}(C.a.Component),Se=Object(a.d)(Object(ee.b)(null,{get_initialize:x.get_initialize}))(xe);y.a.render(C.a.createElement(ee.a,{store:T},C.a.createElement(Se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},30:function(e,t,n){e.exports={form:"Login_form__1Oh5U",button:"Login_button__2_eM6",rememberMe:"Login_rememberMe__3aWVM",fieldError:"Login_fieldError__3az9n"}},31:function(e,t,n){e.exports={header:"Header_header__3NAvV",loginButton:"Header_loginButton__3RPYY",avatar:"Header_avatar__aCxSy",login:"Header_login__jfCh5",info:"Header_info__1wrJ6",exit:"Header_exit__3CmDp"}},55:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(140),o=n.n(c),i=n(141),u=n.n(i);t.a=function(){return r.a.createElement("img",{src:o.a,alt:"",className:u.a.loading})}},56:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return c}));var a=function(e){return function(t){if(t&&t.length<e)return"MIN LENGTH = ".concat(e)}},r=function(e){if(!e)return"Field is required"},c=function(e){return function(t){if(!(t&&t.length<=e))return"Max lenght - ".concat(e," symbols")}}},57:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return d}));var a=n(41),r=n(0),c=n.n(r),o=n(16),i=n.n(o),u=function(e){var t=e.input,n=e.meta;Object(a.a)(e,["input","meta"]);return c.a.createElement("div",null,c.a.createElement("textarea",Object.assign({},t,{className:i.a.textareaDialogs+" "+(n.touched&&n.error?i.a.error:"")})),n.touched&&n.error&&c.a.createElement("div",{className:i.a.alert},n.error))},s=function(e){var t=e.input,n=e.meta,r=Object(a.a)(e,["input","meta"]);return c.a.createElement("div",null,c.a.createElement("textarea",Object.assign({},t,r,{className:i.a.TextareaProfile+" "+(n.touched&&n.error?i.a.error:"")})),n.touched&&n.error&&c.a.createElement("div",{className:i.a.alertProfile},n.error))},l=function(e){var t=e.input,n=e.meta,r=Object(a.a)(e,["input","meta"]);return c.a.createElement("div",null,c.a.createElement("input",Object.assign({},t,r,{className:i.a.input+" "+(n.touched&&n.error?i.a.error:"")})),n.touched&&n.error&&c.a.createElement("div",{className:i.a.alertLogin},n.error))},f=function(e){var t=e.input,n=e.meta,r=Object(a.a)(e,["input","meta"]);return c.a.createElement("div",null,c.a.createElement("textarea",Object.assign({},t,r,{className:i.a.textareaTodo+" "+(n.touched&&n.error?i.a.error:"")})),n.touched&&n.error&&c.a.createElement("div",{className:i.a.alertTodo},n.error))},d=function(e){var t=e.input,n=e.meta,r=Object(a.a)(e,["input","meta"]);return c.a.createElement("div",null,c.a.createElement("input",Object.assign({},t,r,{className:n.touched&&n.error?i.a.error:""})),n.touched&&n.error&&c.a.createElement("div",{className:i.a.alertLogin},n.error))}},58:function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return E}));var a=n(5),r=n.n(a),c=n(10),o=n(69),i=n(2),u=n(9),s=n(22),l={postData:[{id:6,author_image:"https://semantic-ui.com/images/avatar/small/stevie.jpg",author:"Stevie Folls",text:"ddd DAS",date:"1 month ago",like_count:6},{id:5,author_image:"https://semantic-ui.com/images/avatar/small/stevie.jpg",author:"Stevie Folls",text:"HAHA NUBB",date:"1 month ago",like_count:5},{id:4,author_image:"https://semantic-ui.com/images/avatar/small/stevie.jpg",author:"Stevie Folls",text:"Stupid monkey...",date:"1 month ago",like_count:11},{id:3,author_image:"https://semantic-ui.com/images/avatar/small/stevie.jpg",author:"Stevie Folls",text:"BLABLBLALBL",date:"1 month ago",like_count:11},{id:2,author_image:"https://semantic-ui.com/images/avatar/small/elliot.jpg",author:"Stas Jordan",text:":)",date:"1 day ago",like_count:32},{id:1,author_image:"https://semantic-ui.com/images/avatar/small/matt.jpg",author:"Vanja Hodynchuk",text:"Very cool bro",date:"now",like_count:1}],profileInfo:null,profileInfoLoading:!1,status:"",photoLoading:!1},f=function(e){return{type:"SET_STATUS",status:e}},d=function(e){return{type:"profile/SAVE_PHOTO_DONE",file:e}},m=function(e){return{type:"profile/SET_PHOTO_LOADING",boolean:e}},p=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.j)(e);case 2:a=t.sent,n(f(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.r)(e);case 2:0===t.sent.data.resultCode&&n(f(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.i)(e);case 2:a=t.sent,n({type:"SET_PROFILE",profileInfo:a.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(t){t(function(e){return{type:"ADD-POST",postText:e}}(e)),t(Object(s.a)("postForm"))}},O=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(u.n)(e);case 2:if(0!==(c=n.sent).data.resultCode){n.next=8;break}a(h(t)),a(Object(s.a)("profileData")),n.next=10;break;case 8:return a(Object(s.b)("profileData",{_error:c.data.messages[0]})),n.abrupt("return",Promise.reject(c.data.messages[0]));case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(m(!0)),t.next=3,Object(u.m)(e);case 3:0===(a=t.sent).data.resultCode&&(n(d(a.data.data.photos)),n(m(!1)));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={id:7,author:"Unknown user",author_image:"https://image.flaticon.com/icons/png/512/37/37943.png",text:t.postText,date:"now",like_cout:0};return Object(i.a)(Object(i.a)({},e),{},{postData:[].concat(Object(o.a)(e.postData),[n])});case"SET_PROFILE":return Object(i.a)(Object(i.a)({},e),{},{profileInfo:t.profileInfo});case"SET_STATUS":return Object(i.a)(Object(i.a)({},e),{},{status:t.status});case"DELETE_POST":return Object(i.a)(Object(i.a)({},e),{},{postData:e.postData.filter((function(e){return e.id!=t.id}))});case"profile/SAVE_PHOTO_DONE":return Object(i.a)(Object(i.a)({},e),{},{profileInfo:Object(i.a)(Object(i.a)({},e.profileInfo),{},{photos:t.file})});case"profile/SET_PHOTO_LOADING":return Object(i.a)(Object(i.a)({},e),{},{photoLoading:t.boolean});default:return e}}},71:function(e,t){},9:function(e,t,n){"use strict";n.d(t,"k",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"q",(function(){return i})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return f})),n.d(t,"r",(function(){return d})),n.d(t,"l",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"p",(function(){return g})),n.d(t,"h",(function(){return O})),n.d(t,"o",(function(){return E})),n.d(t,"a",(function(){return v})),n.d(t,"m",(function(){return _})),n.d(t,"n",(function(){return j}));var a=n(133),r=a.create({withCredentials:!0,headers:{"API-KEY":"e4ab732c-d4b7-4090-ae44-56e101c6d884"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0;return r.get("users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))},o=function(e){return r.delete("follow/".concat(e)).then((function(e){return e.data}))},i=function(e){return r.post("follow/".concat(e)).then((function(e){return e.data}))},u=function(){return r.get("auth/me").then((function(e){return e.data}))},s=function(e){return r.get("profile/"+e)},l=function(e){return r.get("profile/"+e)},f=function(e){return r.get("profile/status/"+e)},d=function(e){return r.put("profile/status/",{status:e})},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a})},p=function(){return r.get("/security/get-captcha-url")},b=function(){return r.delete("auth/login")},h=function(){return r.get("dialogs/")},g=function(e){return r.put("dialogs/"+e)},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return r.get("dialogs/".concat(e,"/messages/?page=").concat(t,"&count=").concat(n))},E=function(e,t){return r.post("dialogs/".concat(e,"/messages"),{body:t})},v=function(e){return r.delete("dialogs/messages/".concat(e))},_=function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-type":"multipart/form-data"}})},j=function(e){return r.put("profile/",e)}},91:function(e,t,n){e.exports={img:"FriendsNav_img__SQ3sL"}},96:function(e,t,n){e.exports=n.p+"static/media/user.7cc7a630.png"},98:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return h}));var a=n(5),r=n.n(a),c=n(10),o=n(2),i=n(9),u=n(22),s={dialogsData:[],messageData:[],dialogsLoading:!0,messagesLoading:!1},l=function(e){return{type:"DIALOGS_LOADING",boolean:e}},f=function(e){return{type:"dialogs/SET_MESSAGES_LOADING",boolean:e}},d=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(l(!0)),e.next=3,Object(i.e)();case 3:n=e.sent,t({type:"GET_DIALOGS",dialogs:n.data}),t(l(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.p)(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(f(!0)),t.next=3,Object(i.h)(e);case 3:a=t.sent,n({type:"GET_MESSAGES",messageList:a.data.items}),n(f(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.o)(e,t);case 2:a(Object(u.a)("sendMessage"));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.a)(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DIALOGS":return Object(o.a)(Object(o.a)({},e),{},{dialogsData:t.dialogs});case"DIALOGS_LOADING":return Object(o.a)(Object(o.a)({},e),{},{dialogsLoading:t.boolean});case"GET_MESSAGES":return Object(o.a)(Object(o.a)({},e),{},{messageData:t.messageList.reverse()});case"dialogs/SET_MESSAGES_LOADING":return Object(o.a)(Object(o.a)({},e),{},{messagesLoading:t.boolean});default:return e}}}},[[167,1,2]]]);
//# sourceMappingURL=main.eaf05bd7.chunk.js.map