(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{295:function(e,a,s){"use strict";s.d(a,"a",(function(){return A}));var t=s(51),n=s(52),i=s(54),r=s(53),o=s(11),g=s(0),l=s.n(g),c=s(14),A=function(e){var a=function(a){Object(i.a)(g,a);var s=Object(r.a)(g);function g(){return Object(t.a)(this,g),s.apply(this,arguments)}return Object(n.a)(g,[{key:"render",value:function(){return this.props.isAuth?l.a.createElement(e,this.props):l.a.createElement(o.a,{to:"/login"})}}]),g}(l.a.Component);return Object(c.b)(d)(a)},d=function(e){return{isAuth:e.auth.isAuth}}},298:function(e,a,s){e.exports={content:"Dialogs_content__1FUzv",span:"Dialogs_span__3kP_e",title:"Dialogs_title__1nMPx",but:"Dialogs_but__2zZAW",button:"Dialogs_button__18bSs",messag:"Dialogs_messag__3ckUi"}},307:function(e,a,s){e.exports={dialog:"Dialog_dialog__30jsa",active:"Dialog_active__3Vfu9",f_img:"Dialog_f_img__1b7H3"}},308:function(e,a,s){e.exports={messages:"Message_messages__o67uO",yes:"Message_yes__aW4Sg",no:"Message_no__OHhsn",dots:"Message_dots__28C0f",viewed:"Message_viewed__1Mgjq"}},309:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAA51BMVEUAAABAgIBVep1Wep5Ve51ggJ9Vep9VfZ9Ve5xXe59Xep5WeZ5VcapWep5VeZ5WeaBWfJ5VeZ5VeZ5WeZ5Ve59ZeptWep5Wep5Xe59Wep5Wep5Wep5Wep9Ye55Xep5Wep5VdZ9Wep5WeZ9Xep9Xe55Wep5NgJlVep5XeZ1Wep5Xep9QgJ9Wep5Wep1Xe59Wep9Xep9YeJ9We55Wep5Wep9Vep9Xep5We59Xd51VeZ5Vep5We5xWe55Ydp1Xe55Wep5Wep1WeZ5VgKpVep9Wep5Xep1YeZ9Wep5Wep9Wep5Ye51Wep4AAADyfsSWAAAAS3RSTlMABNHuUQhaLTZVmZEJ4lQ7RBV+u7kXq/iH45vKtB2W7xi+SoqB/Qp7jfJtEPdrnN5YIOdcyTDXTS8/yD6gGk+42YsGb81ePe13sTQNLdnyAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB+QMARAIKaoAyEQAAACdSURBVBjTRc/XEoJADEDR6Iq9ICgWUOy9V+y95v//x4UNct9yZrI7AQDw+RljAfCSggChsDtFov9icRsS6JW0ISV7pZ0dRaUyWfGIlstjoYi6gSUBZbOC1RrWFZQENJotG9qdLv3bw/6Aw3A0JpjgdMZhri0IZFyuOKxVg8DCzZbDTt8THPB44mCdLwRXvKn3Bz5fb/e8jziEfZ3pB+cVGZverKz3AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTEyLTAxVDE2OjA4OjQxKzAwOjAwvyexxQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0xMi0wMVQxNjowODo0MSswMDowMM56CXkAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},313:function(e,a,s){"use strict";s.r(a);var t=s(51),n=s(52),i=s(54),r=s(53),o=s(97),g=s(41),l=s(0),c=s.n(l),A=s(298),d=s.n(A),m=s(307),p=s.n(m),u=s(13),b=s(55),v=s.n(b),E=function(e){var a=e.id,s=e.getMessagesList,t=e.photos,n=e.userName;return c.a.createElement("div",null,c.a.createElement(u.b,{to:"/messages/"+a,className:p.a.dialog,activeClassName:p.a.active,onClick:function(){s(a)}},c.a.createElement("img",{src:t||v.a,alt:"",className:p.a.f_img}),n),c.a.createElement("br",null),c.a.createElement("br",null))},f=s(308),_=s.n(f),W=s(309),h=s.n(W),M=function(e){var a=e.deleteMessage,s=e.senderId,t=e.currentUserId,n=e.getMessagesList,i=e.img,r=e.viewed,o=e.message,g=e.userId,l=e.id,A=s===t;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:A?_.a.yes:_.a.no},c.a.createElement("div",{className:_.a.messages},c.a.createElement("img",{className:_.a.img,src:i,alt:""}),c.a.createElement("span",{onClick:function(){!function(e,s){a(e),n(s),n(s)}(l,g)}},c.a.createElement("img",{className:_.a.dots,src:h.a,alt:""})),!r&&c.a.createElement("span",{className:_.a.viewed},"."),c.a.createElement("span",{className:_.a.mes},o))))},y=s(129),D=s(130),Z=s(57),N=s(58),O=Object(Z.b)(1),V=Object(Z.a)(300),j=Object(D.a)({form:"sendMessage"})((function(e){var a=e.handleSubmit;return c.a.createElement("form",{onSubmit:a},c.a.createElement(y.a,{rows:"3",cols:"50",someArbitraryOtherProp:"s.textarea1",name:"message",component:N.c,placeholder:"Type your message...",validate:[Z.c,O,V]}),c.a.createElement("span",{className:d.a.butt},c.a.createElement("button",{className:d.a.button},"Send")))})),L=s(56),w=function(e){var a=e.dialogs,s=e.messages,t=e.deleteMessage,n=e.currentUserId,i=e.sendMessage,r=e.getMessagesList,o=e.dialogsLoading,l=e.messagesLoading,A=Object(g.a)(e,["dialogs","messages","deleteMessage","currentUserId","sendMessage","getMessagesList","dialogsLoading","messagesLoading"]).match.params.userId,m=a.map((function(e){return c.a.createElement(E,{id:e.id,userName:e.userName,photos:e.photos.small,key:e.id,getMessagesList:r,messages:s})})),p=s.map((function(e){return c.a.createElement(M,{getMessagesList:r,deleteMessage:t,userId:A,viewed:e.viewed,senderId:e.senderId,currentUserId:n,message:e.body,key:e.id,id:e.id})}));return c.a.createElement("div",{className:d.a.content},c.a.createElement("div",{className:d.a.dialogs+"unselectable"},c.a.createElement("div",{className:d.a.title},"Dialogs"),c.a.createElement("div",{className:d.a.span},o?c.a.createElement(L.a,null):m)),c.a.createElement("div",{className:d.a.messages},c.a.createElement("div",{className:d.a.messag},l?c.a.createElement(L.a,null):p),c.a.createElement("div",{className:d.a.but},c.a.createElement(j,{onSubmit:function(e){i(A,e.message),r(A),r(A)}}))))},I=s(14),S=s(295),B=s(8),C=s(11),U=function(e){Object(i.a)(s,e);var a=Object(r.a)(s);function s(){var e;Object(t.a)(this,s);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=a.call.apply(a,[this].concat(i))).reGetDialogs=function(){var a=e.props.match.params.userId;a&&e.props.getMessagesList(a),e.props.dialogs.length<1&&e.props.getDialogsPage()},e}return Object(n.a)(s,[{key:"componentDidMount",value:function(){this.reGetDialogs()}},{key:"componentDidUpdate",value:function(e,a,s){this.props.messages.length!==e.messages.length&&this.reGetDialogs()}},{key:"render",value:function(){return c.a.createElement(w,Object.assign({},this.props,{messages:this.props.messages,dialogs:this.props.dialogs,dialogsLoading:this.props.dialogsLoading,getMessagesList:this.props.getMessagesList,messagesLoading:this.props.messagesLoading,deleteMessage:this.props.deleteMessage,currentUserId:this.props.currentUserId}))}}]),s}(l.PureComponent);a.default=Object(B.d)(Object(I.b)((function(e){return{messages:e.dialogsPage.messageData,dialogs:e.dialogsPage.dialogsData,dialogsLoading:e.dialogsPage.dialogsLoading,messagesLoading:e.dialogsPage.messagesLoading,currentUserId:e.auth.id}}),{sendMessage:o.e,getDialogsPage:o.c,getMessagesList:o.d,deleteMessage:o.b}),C.g,S.a)(U)}}]);
//# sourceMappingURL=4.97e22b6d.chunk.js.map