(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{295:function(e,a,s){"use strict";s.d(a,"a",(function(){return A}));var t=s(51),n=s(52),i=s(54),g=s(53),o=s(9),l=s(0),r=s.n(l),c=s(14),A=function(e){var a=function(a){Object(i.a)(l,a);var s=Object(g.a)(l);function l(){return Object(t.a)(this,l),s.apply(this,arguments)}return Object(n.a)(l,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(o.a,{to:"/login"})}}]),l}(r.a.Component);return Object(c.b)(p)(a)},p=function(e){return{isAuth:e.auth.isAuth}}},298:function(e,a,s){e.exports={content:"Dialogs_content__1FUzv",span:"Dialogs_span__3kP_e",title:"Dialogs_title__1nMPx",but:"Dialogs_but__2zZAW",button:"Dialogs_button__18bSs",messag:"Dialogs_messag__3ckUi"}},305:function(e,a,s){e.exports={dialog:"Dialog_dialog__30jsa",active:"Dialog_active__3Vfu9",f_img:"Dialog_f_img__1b7H3"}},306:function(e,a,s){e.exports={messages:"Message_messages__o67uO",yes:"Message_yes__aW4Sg",dots:"Message_dots__28C0f",viewed:"Message_viewed__1Mgjq"}},307:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAA51BMVEUAAABAgIBVep1Wep5Ve51ggJ9Vep9VfZ9Ve5xXe59Xep5WeZ5VcapWep5VeZ5WeaBWfJ5VeZ5VeZ5WeZ5Ve59ZeptWep5Wep5Xe59Wep5Wep5Wep5Wep9Ye55Xep5Wep5VdZ9Wep5WeZ9Xep9Xe55Wep5NgJlVep5XeZ1Wep5Xep9QgJ9Wep5Wep1Xe59Wep9Xep9YeJ9We55Wep5Wep9Vep9Xep5We59Xd51VeZ5Vep5We5xWe55Ydp1Xe55Wep5Wep1WeZ5VgKpVep9Wep5Xep1YeZ9Wep5Wep9Wep5Ye51Wep4AAADyfsSWAAAAS3RSTlMABNHuUQhaLTZVmZEJ4lQ7RBV+u7kXq/iH45vKtB2W7xi+SoqB/Qp7jfJtEPdrnN5YIOdcyTDXTS8/yD6gGk+42YsGb81ePe13sTQNLdnyAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB+QMARAIKaoAyEQAAACdSURBVBjTRc/XEoJADEDR6Iq9ICgWUOy9V+y95v//x4UNct9yZrI7AQDw+RljAfCSggChsDtFov9icRsS6JW0ISV7pZ0dRaUyWfGIlstjoYi6gSUBZbOC1RrWFZQENJotG9qdLv3bw/6Aw3A0JpjgdMZhri0IZFyuOKxVg8DCzZbDTt8THPB44mCdLwRXvKn3Bz5fb/e8jziEfZ3pB+cVGZverKz3AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTEyLTAxVDE2OjA4OjQxKzAwOjAwvyexxQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0xMi0wMVQxNjowODo0MSswMDowMM56CXkAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},310:function(e,a,s){"use strict";s.r(a);var t=s(51),n=s(52),i=s(54),g=s(53),o=s(97),l=s(0),r=s.n(l),c=s(298),A=s.n(c),p=s(305),m=s.n(p),d=s(13),u=s(96),b=s.n(u),E=function(e){return r.a.createElement("div",null,r.a.createElement(d.b,{to:"/messages/"+e.id,className:m.a.dialog,activeClassName:m.a.active,onClick:function(){e.getMessagesList(e.id)}},r.a.createElement("img",{src:e.photos||b.a,alt:"",className:m.a.f_img}),e.userName),r.a.createElement("br",null),r.a.createElement("br",null))},f=s(306),v=s.n(f),W=s(307),M=s.n(W),_=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:v.a.yes},r.a.createElement("div",{className:v.a.messages},r.a.createElement("img",{className:v.a.img,src:e.img,alt:""}),r.a.createElement("span",{onClick:function(){var a;a=e.id,e.deleteMessage(a),e.getMessagesList(e.userId),e.getMessagesList(e.userId)}},r.a.createElement("img",{className:v.a.dots,src:M.a,alt:""})),!e.viewed&&r.a.createElement("span",{className:v.a.viewed},"."),r.a.createElement("span",{className:v.a.mes},e.message))))},h=s(130),y=s(131),D=s(72),Z=s(73),L=Object(D.b)(1),N=Object(D.a)(300),V=Object(y.a)({form:"sendMessage"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(h.a,{rows:"3",cols:"50",someArbitraryOtherProp:"s.textarea1",name:"message",component:Z.b,placeholder:"Type your message...",validate:[D.c,L,N]}),r.a.createElement("span",{className:A.a.butt},r.a.createElement("button",{className:A.a.button},"Send")))})),j=s(55),O=function(e){var a=e.match.params.userId,s=e.dialogs.map((function(a){return r.a.createElement(E,{id:a.id,userName:a.userName,photos:a.photos.small,getMessagesList:e.getMessagesList,messages:e.messages})})),t=e.messages.map((function(s){return r.a.createElement(_,{getMessagesList:e.getMessagesList,deleteMessage:e.deleteMessage,userId:a,viewed:s.viewed,message:s.body,key:s.id,id:s.id})}));return r.a.createElement("div",{className:A.a.content},r.a.createElement("div",{className:A.a.dialogs+"unselectable"},r.a.createElement("div",{className:A.a.title},"Dialogs"),r.a.createElement("div",{className:A.a.span},e.dialogsLoading?r.a.createElement(j.a,null):s)),r.a.createElement("div",{className:A.a.messages},r.a.createElement("div",{className:A.a.messag},e.messagesLoading?r.a.createElement(j.a,null):t),r.a.createElement("div",{className:A.a.but},r.a.createElement(V,{onSubmit:function(s){e.sendMessage(a,s.message),e.getMessagesList(a),e.getMessagesList(a)}}))))},w=s(14),S=s(295),B=s(8),C=s(9),X=function(e){Object(i.a)(s,e);var a=Object(g.a)(s);function s(){var e;Object(t.a)(this,s);for(var n=arguments.length,i=new Array(n),g=0;g<n;g++)i[g]=arguments[g];return(e=a.call.apply(a,[this].concat(i))).reGetDialogs=function(){var a=e.props.match.params.userId;a&&e.props.getMessagesList(a),e.props.dialogs.length<1&&e.props.getDialogsPage()},e}return Object(n.a)(s,[{key:"componentDidMount",value:function(){this.reGetDialogs()}},{key:"componentDidUpdate",value:function(e,a,s){this.props.messages.length!==e.messages.length&&this.reGetDialogs()}},{key:"render",value:function(){return r.a.createElement(O,Object.assign({},this.props,{messages:this.props.messages,dialogs:this.props.dialogs,dialogsLoading:this.props.dialogsLoading,getMessagesList:this.props.getMessagesList,userId:this.props.userId,messagesLoading:this.props.messagesLoading,deleteMessage:this.props.deleteMessage}))}}]),s}(l.PureComponent);a.default=Object(B.d)(Object(w.b)((function(e){return{messages:e.dialogsPage.messageData,dialogs:e.dialogsPage.dialogsData,dialogsLoading:e.dialogsPage.dialogsLoading,messagesLoading:e.dialogsPage.messagesLoading}}),{sendMessage:o.e,getDialogsPage:o.c,getMessagesList:o.d,deleteMessage:o.b}),C.g,S.a)(X)}}]);
//# sourceMappingURL=3.8823578d.chunk.js.map