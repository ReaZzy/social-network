(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{294:function(e,a,s){"use strict";s.d(a,"a",(function(){return m}));var t=s(51),n=s(52),i=s(54),o=s(53),r=s(9),l=s(0),g=s.n(l),c=s(14),m=function(e){var a=function(a){Object(i.a)(l,a);var s=Object(o.a)(l);function l(){return Object(t.a)(this,l),s.apply(this,arguments)}return Object(n.a)(l,[{key:"render",value:function(){return this.props.isAuth?g.a.createElement(e,this.props):g.a.createElement(r.a,{to:"/login"})}}]),l}(g.a.Component);return Object(c.b)(u)(a)},u=function(e){return{isAuth:e.auth.isAuth}}},297:function(e,a,s){e.exports={content:"Dialogs_content__1FUzv",span:"Dialogs_span__3kP_e",title:"Dialogs_title__1nMPx",but:"Dialogs_but__2zZAW",button:"Dialogs_button__18bSs",messag:"Dialogs_messag__3ckUi"}},304:function(e,a,s){e.exports={dialog:"Dialog_dialog__30jsa",active:"Dialog_active__3Vfu9",f_img:"Dialog_f_img__1b7H3"}},305:function(e,a,s){e.exports={messages:"Message_messages__o67uO",yes:"Message_yes__aW4Sg"}},308:function(e,a,s){"use strict";s.r(a);var t=s(51),n=s(52),i=s(54),o=s(53),r=s(98),l=s(0),g=s.n(l),c=s(297),m=s.n(c),u=s(304),p=s.n(u),d=s(13),b=s(97),_=s.n(b),f=function(e){return g.a.createElement("div",null,g.a.createElement(d.b,{to:"/messages/"+e.id,className:p.a.dialog,activeClassName:p.a.active,onClick:function(){e.getMessagesList(e.id)}},g.a.createElement("img",{src:e.photos||_.a,alt:"",className:p.a.f_img}),e.userName),g.a.createElement("br",null),g.a.createElement("br",null))},h=s(305),v=s.n(h),E=function(e){return g.a.createElement("div",{className:v.a.yes},g.a.createElement("div",{className:v.a.messages},g.a.createElement("img",{className:v.a.img,src:e.img,alt:""}),g.a.createElement("span",{className:v.a.mes},e.message)))},D=s(131),N=s(132),L=s(72),y=s(73),O=Object(L.b)(1),j=Object(L.a)(300),M=Object(N.a)({form:"sendMessage"})((function(e){return g.a.createElement("form",{onSubmit:e.handleSubmit},g.a.createElement(D.a,{rows:"3",cols:"50",someArbitraryOtherProp:"s.textarea1",name:"message",component:y.b,placeholder:"Type your message...",validate:[L.c,O,j]}),g.a.createElement("span",{className:m.a.butt},g.a.createElement("button",{className:m.a.button},"Send")))})),k=s(55),P=function(e){var a=e.match.params.userId;if(e.dialogsLoading)return g.a.createElement(k.a,null);var s=e.dialogs.map((function(a){return g.a.createElement(f,{id:a.id,userName:a.userName,photos:a.photos.small,getMessagesList:e.getMessagesList,messages:e.messages})})),t=e.messages.map((function(e){return g.a.createElement(E,{message:e.body,key:e.id})}));return g.a.createElement("div",{className:m.a.content},g.a.createElement("div",{className:m.a.dialogs+"unselectable"},g.a.createElement("div",{className:m.a.title},"Dialogs"),g.a.createElement("div",{className:m.a.span},s)),g.a.createElement("div",{className:m.a.messages},g.a.createElement("div",{className:m.a.messag},t),g.a.createElement("div",{className:m.a.but},g.a.createElement(M,{onSubmit:function(s){e.sendMessage(a,s.message),e.getMessagesList(a),e.getMessagesList(a)}}))))},A=s(14),S=s(294),x=s(8),w=s(9),C=function(e){Object(i.a)(s,e);var a=Object(o.a)(s);function s(){var e;Object(t.a)(this,s);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=a.call.apply(a,[this].concat(i))).reGetDialogs=function(){var a=e.props.match.params.userId;a&&e.props.getMessagesList(a),e.props.dialogs.length<1&&e.props.getDialogsPage()},e}return Object(n.a)(s,[{key:"componentDidMount",value:function(){this.reGetDialogs()}},{key:"componentDidUpdate",value:function(e,a,s){this.props.messages.values!==e.messages.values&&this.reGetDialogs()}},{key:"render",value:function(){return g.a.createElement(P,Object.assign({},this.props,{messages:this.props.messages,dialogs:this.props.dialogs,dialogsLoading:this.props.dialogsLoading,getMessagesList:this.props.getMessagesList,userId:this.props.userId,messageLoading:this.props.messageLoading}))}}]),s}(l.PureComponent);a.default=Object(x.d)(Object(A.b)((function(e){return{messages:e.dialogsPage.messageData,dialogs:e.dialogsPage.dialogsData,dialogsLoading:e.dialogsPage.dialogsLoading,messageLoading:e.dialogsPage.messageLoading}}),{sendMessage:r.d,getDialogsPage:r.b,getMessagesList:r.c}),w.g,S.a)(C)}}]);
//# sourceMappingURL=3.7e6af49d.chunk.js.map